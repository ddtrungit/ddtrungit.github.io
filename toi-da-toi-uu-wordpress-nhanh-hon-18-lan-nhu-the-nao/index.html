<!DOCTYPE html><html lang="vi"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>TÔI ĐÃ TỐI ƯU WORDPRESS NHANH HƠN 18 LẦN NHƯ THẾ NÀO? - TRUNG DUONG</title><meta name="robots" content="noindex,nofollow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><meta name="theme-color" content="#17181E" media="(prefers-color-scheme: dark)"><meta name="theme-color" content="#D73A42" media="(prefers-color-scheme: light)"><meta name="msapplication-navbutton-color" content="#D73A42"><meta name="apple-mobile-web-app-status-bar-style" content="#D73A42"><link rel="alternate" type="application/atom+xml" href="https://ddtrungit.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://ddtrungit.github.io/feed.json"><link rel="shortcut icon" href="https://ddtrungit.github.io/media/website/cropped-2019-09-16-32x32.png" type="image/x-icon"><link rel="shortcut icon" href="https://ddtrungit.github.io/media/website/cropped-2019-09-16-32x32.png" type="image/x-icon"><link rel="stylesheet" href="https://ddtrungit.github.io/assets/css/style.css?v=4becd99c93342dd7c117b97188f052e6"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ddtrungit.github.io/toi-da-toi-uu-wordpress-nhanh-hon-18-lan-nhu-the-nao/index.html"},"headline":"TÔI ĐÃ TỐI ƯU WORDPRESS NHANH HƠN 18 LẦN NHƯ THẾ NÀO?","datePublished":"2021-01-28T04:02","dateModified":"2022-06-13T14:30","image":{"@type":"ImageObject","url":"https://ddtrungit.github.io/media/posts/85/best-ways-to-speed-up-wp-site.jpg","height":1080,"width":1920},"description":"Tuy nhiên, mỗi website sẽ có 1 đặc điểm riêng, không phải site nào tối ưu cũng giống site nào,&hellip;","author":{"@type":"Person","name":"Duong Dinh Trung","url":"https://ddtrungit.github.io/authors/dtrungit/"},"publisher":{"@type":"Organization","name":"Duong Dinh Trung","logo":{"@type":"ImageObject","url":"https://ddtrungit.github.io/media/website/Background_2.png","height":800,"width":834}}}</script></head><body><header class="header" id="js-header"><a href="https://ddtrungit.github.io/index.html" class="logo"><img src="https://ddtrungit.github.io/media/website/Background_2.png" alt="TRUNG DUONG"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ddtrungit.github.io/index.html" target="_self">Home</a></li><li><a href="https://ddtrungit.github.io/lien-he/index.html" target="_self">Contact</a></li><li><a href="https://ddtrungit.github.io/gioi-thieu/index.html" target="_self">About</a></li><li><a href="https://ddtrungit.github.io/tags/ansible/index.html" target="_self">Ansible</a></li><li><a href="https://ddtrungit.github.io/tags/aws/index.html" target="_self">AWS</a></li><li><a href="https://ddtrungit.github.io/tags/oracle/index.html" target="_self">Oracle</a></li><li><a href="https://ddtrungit.github.io/tags/linux/index.html" target="_self">Linux</a></li><li><a href="https://ddtrungit.github.io/tags/zimbra/index.html" target="_self">Zimbra</a></li><li><a href="https://ddtrungit.github.io/tags/tip/index.html" target="_self">TIP</a></li><li><a href="https://ddtrungit.github.io/tags/k8s/index.html" target="_self">Kubernetes</a></li></ul></nav></header><main><div class="wrapper"><article class="post"><header class="post__header"><h1 class="post__title">TÔI ĐÃ TỐI ƯU WORDPRESS NHANH HƠN 18 LẦN NHƯ THẾ NÀO?</h1><div class="post__meta"><div class="post__author">By <a href="https://ddtrungit.github.io/authors/dtrungit/index.html" class="invert" rel="author" title="Duong Dinh Trung">Duong Dinh Trung</a></div><div class="post__comments"><a href="https://ddtrungit.github.io/toi-da-toi-uu-wordpress-nhanh-hon-18-lan-nhu-the-nao/index.html#comments" rel="nofollow" aria-label="Comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://ddtrungit.github.io/assets/svg/svg-map.svg#comments"/></svg></a></div></div></header><figure class="post__featured-image"><img src="https://ddtrungit.github.io/media/posts/85/best-ways-to-speed-up-wp-site.jpg" srcset="https://ddtrungit.github.io/media/posts/85/responsive/best-ways-to-speed-up-wp-site-xs.jpg 300w, https://ddtrungit.github.io/media/posts/85/responsive/best-ways-to-speed-up-wp-site-sm.jpg 480w, https://ddtrungit.github.io/media/posts/85/responsive/best-ways-to-speed-up-wp-site-md.jpg 768w, https://ddtrungit.github.io/media/posts/85/responsive/best-ways-to-speed-up-wp-site-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="eager" height="1080" width="1920" alt=""></figure><div class="post__inner"><div class="post__entry"><p></p><p>Tuy nhiên, mỗi website sẽ có 1 đặc điểm riêng, không phải site nào tối ưu cũng giống site nào, quan trọng là để các bạn mới nắm được hướng tiếp cận và xác định được các điểm cần phải tập trung cải thiện. Sau một hồi hì hục phân tích và gõ lệnh, kết quả đạt được cũng gọi là chấp nhận được</p><p></p><p></p><p><strong><em>TTFB</em></strong>: <em>Thời gian chờ nhận byte dữ liệu phản hồi đầu tiên từ server, server xử lý càng nhanh thì thời gian chờ càng ít, chứng tỏ càng hiệu quả:</em></p><p></p><p></p><ul><li>Trước khi tối ưu: <strong>648.92ms</strong></li></ul><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-327"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_2.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_2-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_2-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_2-md.png 768w" alt=""></figure></figure><p></p><p></p><ul><li>Sau khi tối ưu: <strong>36.57ms</strong></li></ul><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-328"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_nginx_cache-1024x617.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_nginx_cache-1024x617-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_nginx_cache-1024x617-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_nginx_cache-1024x617-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Tính ra, website đã load nhanh hơn <strong>18 lần</strong> so với ban đầu. OK, giờ ghi chú lại quá trình làm của mình thôi nào!</p><p></p><p></p><p>Trước tiên, muốn giảm độ trễ cần xác định request của mình được xử lý và đi qua những “hop” như thế nào.</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-329"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_architecture.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_architecture-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_architecture-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_architecture-md.png 768w" alt=""></figure></figure><p></p><p></p><ul><li>Khi người dùng truy cập vào trang chủ (GET / ), request này sẽ được gửi lên server qua Internet. Tùy thuộc vào tốc độ kết nối mạng giữa client và server mà độ trễ cao hay thấp. Đây là <strong>điểm delay thứ 1</strong>.</li><li>Khi request đến được server sẽ trải qua nhiều bước để lên đến được tầng application và gặp Web Server. Web server sẽ tiếp nhận và xử lý request, đây là <strong>điểm delay thứ 2</strong>.</li><li>Web server nhận thấy request cần được PHP xử lý nên đẩy vào trong cho PHP + MySQL, đây là <strong>điểm delay thứ 3.</strong></li><li>Sau khi PHP xử lý xong sẽ ra kết quả là 1 cục HTML, ném cục này lại cho Web Server và Web server sẽ ném cục này lại cho Browser. </li><li>Browser nhận được cục HTML sẽ hiển thị lên cho người dùng và đồng thời load tiếp các resource liên quan khác (js, css, image v.v).</li></ul><p></p><p></p><p>Túm lại, sơ bộ đã xác định được 3 điểm cần check, giờ tiến hành khoanh vùng và check từng điểm.</p><p></p><p></p><p><strong>1. Check điểm delay 1:</strong> Tốc độ kết nối giữa mình và máy chủ</p><p></p><p></p><p>Đơn giản và hiệu quả chính là câu lệnh ping thần thánh:</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-330"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_ping.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_ping-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_ping-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_ping-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Okie, ping đẹp, delay chỉ từ 4ms-5ms. Chỗ này ổn, loại ra khỏi danh sách, tập trung vào các khu vực khác.</p><p></p><p></p><p><strong>2. Check điểm delay 2:</strong> Web Server</p><p></p><p></p><p>Ngó sơ tình hình trước cái đã, mở Developer Tools của Browser lên (F12), chọn phần Network và truy cập vào website:</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-331"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_1-1024x632.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_1-1024x632-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_1-1024x632-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_1-1024x632-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Hmm, thời gian xử lý lâu nhất nguyên cây xanh lè đập vào mắt là chỗ xử lý code của trang chủ. Ngó kỹ vào nó chút:</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-332"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_2-1.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_2-1-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_2-1-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_2-1-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Phần lớn thời gian là chờ byte dữ liệu phản hồi đầu tiên (TTFB): 649ms, thời gian download cục HTML về chỉ tốn 2.07ms. Vậy việc cần làm là triệt tiêu bớt thời gian chờ, giúp nhận được cục HTML sớm hơn. Như theo mô hình đã khoanh vùng và loại trừ đoạn delay số 1, lúc này cần tập trung vào đoạn delay số 2 và số 3. Theo kinh nghiệm thì chắc chắn đoạn cần tối ưu là đoạn 3 (PHP + MySQL) , tuy nhiên cứ phải check từng bước đã, đừng để kinh nghiệm nó lừa mình.</p><p></p><p></p><p>Để kết quả test không bị ảnh hưởng bởi đoạn delay số 1 (network) thì SSH thẳng lên server check. Lúc này cần đo lường xem request đi qua Web Server tốn bao nhiêu thời gian, request xử lý trực tiếp (không đi qua Web Server) thì tốn bao nhiêu:</p><p></p><p></p><ul><li>Check request đi qua web server:</li></ul><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-333"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_curl_on_server_default.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server_default-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server_default-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server_default-md.png 768w" alt=""></figure></figure><p></p><p></p><ul><li>Tốn hết 0.663s</li><li>Check request xử lý trực tiếp không thông qua web server</li></ul><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-334"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_3.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_3-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_3-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_3-md.png 768w" alt=""></figure></figure><p></p><p></p><ul><li>Tốn hết 0.602s</li></ul><p></p><p></p><p><strong><em>Kết luận:</em></strong> đi qua web server cũng không làm tăng độ trễ nhiều, vấn đề chính là ở cục PHP + MySQL thôi, tới đây loại trừ thằng Web server ra được rồi.</p><p></p><p></p><p><strong>3. Check điểm delay 3:</strong> PHP + MySQL</p><p></p><p></p><p>Không ngoài dự đoán, <strong>0.602s</strong> là thời gian xử lý của code, tính ra là gần bằng thời gian TTFB, giờ strace thử xem những system call nào đang tốn nhiều thời gian nhất:</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-335"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_4.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_4-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_4-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_4-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Hmm, <strong><em>lstat + fstat + stat</em></strong> tính ra chiếm đến hơn 50% thời gian … những system call này liên quan đến việc lấy thông tin file như permission, file size .. cơ mà, sao lại chiếm nhiều thời gian thế nhỉ? Phải chăng là do số lượng file nhiều? Hay do I/O kém?</p><p></p><p></p><p>Để hiểu rõ hơn buộc phải dump kết quả strace chi tiết ra file để nhìn rồi. </p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-336"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_5-1024x508.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_5-1024x508-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_5-1024x508-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_5-1024x508-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Lướt từ trên xuống thì thấy cái theme này nhiều file thiệt, phần lớn các system call trên liên quan đến file trong thư mục theme. Vậy giờ phải làm sao để hạn chế việc check file trên ổ cứng? Muốn bypass ổ cứng thì chỉ có phương án là đưa lên RAM … mà lại là PHP … ờ thì opcache chứ còn gì nữa. Triển luôn thôi</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-337"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_6.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_6-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_6-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_6-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Opcache đã có, giờ test lại xem nào:</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-338"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_opcode_enable_vs_disable.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_opcode_enable_vs_disable-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_opcode_enable_vs_disable-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_opcode_enable_vs_disable-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Sặc, chuyện gì vậy .. 0.832s ? Tại sao lại tốn nhiều thời gian hơn khi không dùng opcache (chỉ 0.602s)? Opcache cli đã chắc chắn được enable rồi, tại sao lại tốn nhiều thời gian hơn? Nếu chỉ là request đầu tiên (cache miss) thì còn chấp nhận được, tại sao các request tiếp theo lại vẫn chậm như vậy?</p><p></p><p></p><p>Google một hồi thì mới hiểu là ở version PHP &lt; 7.0 thì opcache chỉ có tác dụng khi process đang chạy, do đó khi mình chạy bằng command line, lúc process kết thúc cũng là lúc vùng memory lưu opcache của process đó bị hủy, giữa các lần chạy là các process khác nhau và không liên quan gì nhau nữa. Tuy nhiên, nếu vậy thì check qua web server có thể kết quả sẽ tốt hơn, vì mỗi process httpd sẽ handle được nhiều request trước khi exit.</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-339"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_curl_on_server.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Có thể chứ, đúng như dự đoán, thời gian xử lý thông qua web server được giảm xuống đáng kể, chỉ còn ~0.270s. So với ban đầu (0.663s) thì cũng nhanh hơn được 3 lần, Opcache cũng được phết. Đây là còn chưa bật query cache hay memcache các kiểu lên nữa, mà để tính sau, site bé tí chưa cần thiết.</p><p></p><p></p><p>Hiện tại đang xài PHP 5.6 (do con server này build lâu rồi), sẵn tiện nghe thiên hạ đồn PHP 7 performance tốt hơn, đo lường thử phát. Hì hục nâng cấp PHP lên version 7, và kết quả:</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-340"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/curl_on_server_php7.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/curl_on_server_php7-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/curl_on_server_php7-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/curl_on_server_php7-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Ồ, tốt hơn thật anh em ạ, so với case này thì PHP 7 nhanh gấp đôi PHP 5. Chưa kể, PHP 7 giải quyết được vụ dùng opcache ở cli nữa. strace lại phát</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-341"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_strace_opcache_cli.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_strace_opcache_cli-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_strace_opcache_cli-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_strace_opcache_cli-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Tỉ lệ thời gian dành cho các system call <strong>fstat, lstat và stat</strong> giảm xuống đáng kể, chỉ còn 21%, tuy nhiên là 21% của total 0.07s (khoảng 0,015s), so với ban đầu là 55% của 0.17s (khoảng 0.093s). Phải vậy chứ!</p><p></p><p></p><p>Tới đây thì cũng tạm hài lòng rồi, mà thôi sẵn làm luôn cho tới, đo lường cho vui. Quất thêm lớp cache nữa để bỏ qua luôn phần xử lý của cục PHP + MySQL. Đập thằng W3total Cache lên</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-342"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_w3_total_cache_enabled.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_w3_total_cache_enabled-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_w3_total_cache_enabled-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_w3_total_cache_enabled-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Lúc này check trực tiếp trên chính server, thời gian xử lý chỉ còn 0.019s. Tuy nhiên, w3total cache hoạt động dựa trên .htaccess, nghĩa là nginx vẫn còn bước proxy_pass về httpd. Tối ưu thêm chút, quất luôn nginx cache để bỏ qua đoạn proxy_pass luôn xem sao:</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-343"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_curl_on_server_nginx_cache.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server_nginx_cache-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server_nginx_cache-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_curl_on_server_nginx_cache-md.png 768w" alt=""></figure></figure><p></p><p></p><p>Rút ngắn chút đỉnh, còn 0.013s. Test thử từ browser xem kết quả cuối cùng so với ban đầu thế nào</p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-344"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/85/optimize_blog_nginx_cache-1-1024x617.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_nginx_cache-1-1024x617-xs.png 300w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_nginx_cache-1-1024x617-sm.png 480w, https://ddtrungit.github.io/media/posts/85/responsive/optimize_blog_nginx_cache-1-1024x617-md.png 768w" alt=""></figure></figure><p></p><p></p><p>TTFB lúc này chỉ còn<strong> 36.57ms</strong>, so với ban đầu <strong>648.92s</strong>, đã nhanh hơn <strong>18 lần. </strong></p><p></p><p></p><p>Tuy nhiên, việc sử dụng nginx cache sẽ dính tới việc setup các module xóa cache và tích hợp vào wordpress, giờ lười quá nên thôi bỏ ra, nào rảnh làm tiếp!</p><p></p></div><footer><div class="post__tags-share"><aside class="post__share"></aside></div><nav class="post__nav"><div class="post__nav__prev"><a class="post__nav__link" href="https://ddtrungit.github.io/liet-ke-danh-sach-process-su-dung-nhieu-ram-nhat-bang-tophtop/index.html" rel="prev">Previous Post<h3 class="h6">Liệt kê danh sách Process sử dụng nhiều RAM nhất bằng top/htop</h3></a></div><div class="post__nav__next"><a class="post__nav__link" href="https://ddtrungit.github.io/truy-tim-nguyen-nhan-loi-error-establishing-a-database-connection-cua-wordpress/index.html" rel="prev">Next Post<h3 class="h6">Truy tìm nguyên nhân lỗi “Error establishing a database connection” của WordPress</h3></a></div></nav></footer></div></article><div class="comments-area post__inner" id="comments"><div class="comments"><div class="comments-wrapper"><h2>Comments</h2><div class="fb-comments" data-href="https://ddtrungit.github.io/toi-da-toi-uu-wordpress-nhanh-hon-18-lan-nhu-the-nao/" data-width="100%" data-colorscheme="light" data-lazy="true" data-order-by="reverse_time" data-numposts="5"></div><noscript>Please enable JS to use the comments form.</noscript></div></div><div id="fb-root"></div><script type="text/javascript" async defer="defer" crossorigin="anonymous" src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v12.0">nonce="n4mWU9e7"</script></div></div><div class="post__related"><div class="wrapper"><h2 class="h5">Related posts</h2><div class="l-grid l-grid--4"><article class="c-card"><a href="https://ddtrungit.github.io/huong-dan-debug-bang-strace-url-wordpress/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/89/best-ways-to-speed-up-wp-site.jpg" srcset="https://ddtrungit.github.io/media/posts/89/responsive/best-ways-to-speed-up-wp-site-xs.jpg 300w, https://ddtrungit.github.io/media/posts/89/responsive/best-ways-to-speed-up-wp-site-sm.jpg 480w, https://ddtrungit.github.io/media/posts/89/responsive/best-ways-to-speed-up-wp-site-md.jpg 768w, https://ddtrungit.github.io/media/posts/89/responsive/best-ways-to-speed-up-wp-site-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="1080" width="1920" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/tip/index.html">Tip</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/huong-dan-debug-bang-strace-url-wordpress/index.html" class="invert">Hướng dẫn debug bằng strace URL WordPress</a></h3></header><p class="c-card__text">Sau khi chia sẻ loạt bài debug WordPress bằng cách sử dụng strace để xem chi tiết quá trình xử&hellip;</p><footer class="c-card__meta"><div class="c-card__comments"><a href="https://ddtrungit.github.io/huong-dan-debug-bang-strace-url-wordpress/index.html#comments" rel="nofollow" aria-label="Comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://ddtrungit.github.io/assets/svg/svg-map.svg#comments"/></svg></a></div></footer></div></article><article class="c-card"><a href="https://ddtrungit.github.io/toi-uu-wordpress-bi-cham/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/87/best-ways-to-speed-up-wp-site.jpg" srcset="https://ddtrungit.github.io/media/posts/87/responsive/best-ways-to-speed-up-wp-site-xs.jpg 300w, https://ddtrungit.github.io/media/posts/87/responsive/best-ways-to-speed-up-wp-site-sm.jpg 480w, https://ddtrungit.github.io/media/posts/87/responsive/best-ways-to-speed-up-wp-site-md.jpg 768w, https://ddtrungit.github.io/media/posts/87/responsive/best-ways-to-speed-up-wp-site-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="1080" width="1920" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/tip/index.html">Tip</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/toi-uu-wordpress-bi-cham/index.html" class="invert">TỐI ƯU WORDPRESS BỊ CHẬM</a></h3></header><p class="c-card__text">ừa rồi tôi được giao nhiệm vụ kiểm tra và tối ưu System cho blog WordPress của doanh nghiệp trong&hellip;</p><footer class="c-card__meta"><div class="c-card__comments"><a href="https://ddtrungit.github.io/toi-uu-wordpress-bi-cham/index.html#comments" rel="nofollow" aria-label="Comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://ddtrungit.github.io/assets/svg/svg-map.svg#comments"/></svg></a></div></footer></div></article><article class="c-card"><a href="https://ddtrungit.github.io/truy-tim-nguyen-nhan-loi-error-establishing-a-database-connection-cua-wordpress/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/86/best-ways-to-speed-up-wp-site.jpg" srcset="https://ddtrungit.github.io/media/posts/86/responsive/best-ways-to-speed-up-wp-site-xs.jpg 300w, https://ddtrungit.github.io/media/posts/86/responsive/best-ways-to-speed-up-wp-site-sm.jpg 480w, https://ddtrungit.github.io/media/posts/86/responsive/best-ways-to-speed-up-wp-site-md.jpg 768w, https://ddtrungit.github.io/media/posts/86/responsive/best-ways-to-speed-up-wp-site-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="1080" width="1920" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/tip/index.html">Tip</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/truy-tim-nguyen-nhan-loi-error-establishing-a-database-connection-cua-wordpress/index.html" class="invert">Truy tìm nguyên nhân lỗi “Error establishing a database connection” của WordPress</a></h3></header><p class="c-card__text">Website đang chạy bình thường, bỗng nhiên xuất hiện lỗi “Error establishing a database connection”, lỗi này cho thấy WordPress&hellip;</p><footer class="c-card__meta"><div class="c-card__comments"><a href="https://ddtrungit.github.io/truy-tim-nguyen-nhan-loi-error-establishing-a-database-connection-cua-wordpress/index.html#comments" rel="nofollow" aria-label="Comments"><svg aria-hidden="true"><title>Comments</title><use xlink:href="https://ddtrungit.github.io/assets/svg/svg-map.svg#comments"/></svg></a></div></footer></div></article></div></div></div></main><footer class="footer"><div class="footer__social"><a href="https://facebook.com/duongtrung2103" aria-label="Facebook" class="facebook"><svg><use xlink:href="https://ddtrungit.github.io/assets/svg/svg-map.svg#facebook"/></svg></a></div><div class="footer__copyright">"DO THE THINGS YOU LOVE!"</div></footer><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://ddtrungit.github.io/assets/js/scripts.min.js?v=d78591855e0ce96bf51239b499260e20"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>