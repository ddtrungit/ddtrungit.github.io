<!DOCTYPE html><html lang="vi"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Restore the SPFILE from the controlfile Autobackup - TRUNG DUONG</title><meta name="robots" content="noindex,nofollow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="alternate" type="application/atom+xml" href="https://ddtrungit.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://ddtrungit.github.io/feed.json"><link rel="shortcut icon" href="https://ddtrungit.github.io/media/website/cropped-2019-09-16-32x32.png" type="image/x-icon"><link rel="shortcut icon" href="https://ddtrungit.github.io/media/website/cropped-2019-09-16-32x32.png" type="image/x-icon"><link rel="stylesheet" href="https://ddtrungit.github.io/assets/css/style.css?v=4becd99c93342dd7c117b97188f052e6"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ddtrungit.github.io/restore-the-spfile-from-the-controlfile-autobackup/index.html"},"headline":"Restore the SPFILE from the controlfile Autobackup","datePublished":"2021-01-22T08:42","dateModified":"2022-06-13T14:28","image":{"@type":"ImageObject","url":"https://ddtrungit.github.io/media/posts/61/maxresdefault.jpg","height":720,"width":1280},"description":"If you have lost the SPFILE (server parameter file), and your Database abnormally shutdown then you will try to startup&hellip;","author":{"@type":"Person","name":"Duong Dinh Trung","url":"https://ddtrungit.github.io/authors/dtrungit/"},"publisher":{"@type":"Organization","name":"Duong Dinh Trung","logo":{"@type":"ImageObject","url":"https://ddtrungit.github.io/media/website/Background_2.png","height":800,"width":834}}}</script></head><body><header class="header" id="js-header"><a href="https://ddtrungit.github.io/index.html" class="logo"><img src="https://ddtrungit.github.io/media/website/Background_2.png" alt="TRUNG DUONG"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ddtrungit.github.io/index.html" target="_self">Home</a></li><li><a href="https://ddtrungit.github.io/lien-he/index.html" target="_self">Contact</a></li><li><a href="https://ddtrungit.github.io/gioi-thieu/index.html" target="_self">About</a></li><li><a href="https://ddtrungit.github.io/tags/ansible/index.html" target="_self">Ansible</a></li><li><a href="https://ddtrungit.github.io/tags/aws/index.html" target="_self">AWS</a></li><li><a href="https://ddtrungit.github.io/tags/oracle/index.html" target="_self">Oracle</a></li><li><a href="https://ddtrungit.github.io/tags/linux/index.html" target="_self">Linux</a></li><li><a href="https://ddtrungit.github.io/tags/zimbra/index.html" target="_self">Zimbra</a></li><li><a href="https://ddtrungit.github.io/tags/tip/index.html" target="_self">TIP</a></li></ul></nav></header><main><div class="wrapper"><article class="post"><header class="post__header"><h1 class="post__title">Restore the SPFILE from the controlfile Autobackup</h1><div class="post__meta"><div class="post__author">By <a href="https://ddtrungit.github.io/authors/dtrungit/index.html" class="invert" rel="author" title="Duong Dinh Trung">Duong Dinh Trung</a></div></div></header><figure class="post__featured-image"><img src="https://ddtrungit.github.io/media/posts/61/maxresdefault.jpg" srcset="https://ddtrungit.github.io/media/posts/61/responsive/maxresdefault-xs.jpg 300w, https://ddtrungit.github.io/media/posts/61/responsive/maxresdefault-sm.jpg 480w, https://ddtrungit.github.io/media/posts/61/responsive/maxresdefault-md.jpg 768w, https://ddtrungit.github.io/media/posts/61/responsive/maxresdefault-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="eager" height="720" width="1280" alt=""></figure><div class="post__inner"><div class="post__entry"><p></p><p>If you have lost the SPFILE (server parameter file), and your Database abnormally shutdown then you will try to startup your Database but you got an error regarding <strong>spfile</strong> not found. You can restore spfile from autobackup using RMAN.</p><p></p><p></p><p>Table of Contents</p><p></p><p></p><h2><strong>How to Restore SPFILE from autobackup?</strong></h2><p></p><p></p><p><strong>NOTE:-</strong> Database must be in archivelog mode and must be configured Controlfile Autobackup on, then take a full Database backup using RMAN.</p><p></p><p></p><h3><strong>How to change database in archivelog mode?</strong></h3><p></p><p></p><p>To open database in archivelog mode follow me step by step.</p><p></p><p></p><pre class="wp-block-code"><code>$sqlplus / as sysdbaSQL&gt; startup mount; SQL&gt; alter database archivelog; SQL&gt; alter database open; </code></pre><p></p><p></p><h2><strong>How to configure autobackup?</strong></h2><p></p><p></p><p>Connect with RMAN and configure autobackup using following commands.</p><p></p><p></p><pre class="wp-block-code"><code>$rman  target/ RMAN&gt; show all; RMAN&gt; configure controlfile autobackup on; </code></pre><p></p><p></p><h2><strong>How to take Database full backup using RMAN?</strong></h2><p></p><p></p><p>Using below command we can take full database backup.</p><p></p><p></p><pre class="wp-block-code"><code>RMAN&gt; backup database plus archivelog; </code></pre><p></p><p></p><p>After finishing Backup, it’ll show you the backup location note down it and shutdown Database then run STARTUP command, it’ll show you an error message regarding SPFILE, before recovery you have to need dbid, you can check your dbid using <strong>v$database, </strong>then connect to RMAN and recover it using below command.</p><p></p><p></p><pre class="wp-block-code"><code>SQL&gt;select dbid from v$database;     DBID ---------- 355418079</code></pre><p></p><p></p><p>Now connect to RMAN and set database id.</p><p></p><p></p><pre class="wp-block-code"><code>$rman target/RMAN&gt;set dbid=355418079; RMAN&gt;startup force nomount; </code></pre><p></p><p></p><h2><strong>How to restore spfile from autobackup?</strong></h2><p></p><p></p><pre class="wp-block-code"><code>RMAN&gt; restore spfile from  '/u01/DB11G/backupset/2015_07_24/o1_mf_nnndf_TAG20150724T144541_bv40kyfj_.bkp'; </code></pre><p></p><p></p><p>After recovery of spfile, now you can open your Database.</p><p></p><p></p><pre class="wp-block-code"><code>RMAN&gt;startup foce;</code></pre><p></p><p></p><p></p></div><footer><div class="post__tags-share"><aside class="post__share"></aside></div></footer></div></article></div><div class="post__related"><div class="wrapper"><h2 class="h5">Related posts</h2><div class="l-grid l-grid--4"><article class="c-card"><a href="https://ddtrungit.github.io/how-to-restore-archive-logs-from-rman-backup/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/63/maxresdefault.jpg" srcset="https://ddtrungit.github.io/media/posts/63/responsive/maxresdefault-xs.jpg 300w, https://ddtrungit.github.io/media/posts/63/responsive/maxresdefault-sm.jpg 480w, https://ddtrungit.github.io/media/posts/63/responsive/maxresdefault-md.jpg 768w, https://ddtrungit.github.io/media/posts/63/responsive/maxresdefault-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="720" width="1280" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/oracle/index.html">Oracle</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/how-to-restore-archive-logs-from-rman-backup/index.html" class="invert">How to restore archive logs from RMAN backup</a></h3></header><p class="c-card__text">To restore the archive logs from RMAN backup, we need to reset the default location of archivelogs otherwise RMAN restores it’s on the default&hellip;</p></div></article><article class="c-card"><a href="https://ddtrungit.github.io/how-to-restore-rman-backup-with-a-different-database-name/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/60/What-is-RMAN-Oracle.jpg" srcset="https://ddtrungit.github.io/media/posts/60/responsive/What-is-RMAN-Oracle-xs.jpg 300w, https://ddtrungit.github.io/media/posts/60/responsive/What-is-RMAN-Oracle-sm.jpg 480w, https://ddtrungit.github.io/media/posts/60/responsive/What-is-RMAN-Oracle-md.jpg 768w, https://ddtrungit.github.io/media/posts/60/responsive/What-is-RMAN-Oracle-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="500" width="900" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/oracle/index.html">Oracle</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/how-to-restore-rman-backup-with-a-different-database-name/index.html" class="invert">How to Restore RMAN Backup with a Different Database Name</a></h3></header><p class="c-card__text">Hello friends, in this article I’m going to demonstrate to you Restore RMAN Backup with a Different Database Name on&hellip;</p></div></article></div></div></div></main><footer class="footer"><div class="footer__social"><a href="https://facebook.com/duongtrung2103" aria-label="Facebook" class="facebook"><svg><use xlink:href="https://ddtrungit.github.io/assets/svg/svg-map.svg#facebook"/></svg></a></div><div class="footer__copyright">"DO THE THINGS YOU LOVE!"</div></footer><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://ddtrungit.github.io/assets/js/scripts.min.js?v=d78591855e0ce96bf51239b499260e20"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>