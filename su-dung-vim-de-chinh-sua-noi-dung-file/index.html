<!DOCTYPE html><html lang="vi"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sử dụng vim để chỉnh sửa nội dung file - TRUNG DUONG</title><meta name="robots" content="noindex,nofollow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="alternate" type="application/atom+xml" href="https://ddtrungit.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://ddtrungit.github.io/feed.json"><link rel="shortcut icon" href="https://ddtrungit.github.io/media/website/cropped-2019-09-16-32x32.png" type="image/x-icon"><link rel="shortcut icon" href="https://ddtrungit.github.io/media/website/cropped-2019-09-16-32x32.png" type="image/x-icon"><link rel="stylesheet" href="https://ddtrungit.github.io/assets/css/style.css?v=4becd99c93342dd7c117b97188f052e6"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ddtrungit.github.io/su-dung-vim-de-chinh-sua-noi-dung-file/index.html"},"headline":"Sử dụng vim để chỉnh sửa nội dung file","datePublished":"2021-01-28T04:13","dateModified":"2022-06-13T14:29","image":{"@type":"ImageObject","url":"https://ddtrungit.github.io/media/posts/91/4muhqs3mho_vimbg.jpeg","height":600,"width":1500},"description":"Trước khi bắt tay vào dựng website, chúng ta cần học cách sửa nội dung một file trên server bằng&hellip;","author":{"@type":"Person","name":"Duong Dinh Trung","url":"https://ddtrungit.github.io/authors/dtrungit/"},"publisher":{"@type":"Organization","name":"Duong Dinh Trung","logo":{"@type":"ImageObject","url":"https://ddtrungit.github.io/media/website/Background_2.png","height":800,"width":834}}}</script></head><body><header class="header" id="js-header"><a href="https://ddtrungit.github.io/index.html" class="logo"><img src="https://ddtrungit.github.io/media/website/Background_2.png" alt="TRUNG DUONG"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://ddtrungit.github.io/index.html" target="_self">Home</a></li><li><a href="https://ddtrungit.github.io/lien-he/index.html" target="_self">Contact</a></li><li><a href="https://ddtrungit.github.io/gioi-thieu/index.html" target="_self">About</a></li><li><a href="https://ddtrungit.github.io/tags/ansible/index.html" target="_self">Ansible</a></li><li><a href="https://ddtrungit.github.io/tags/aws/index.html" target="_self">AWS</a></li><li><a href="https://ddtrungit.github.io/tags/oracle/index.html" target="_self">Oracle</a></li><li><a href="https://ddtrungit.github.io/tags/linux/index.html" target="_self">Linux</a></li><li><a href="https://ddtrungit.github.io/tags/zimbra/index.html" target="_self">Zimbra</a></li><li><a href="https://ddtrungit.github.io/tags/tip/index.html" target="_self">TIP</a></li></ul></nav></header><main><div class="wrapper"><article class="post"><header class="post__header"><h1 class="post__title">Sử dụng vim để chỉnh sửa nội dung file</h1><div class="post__meta"><div class="post__author">By <a href="https://ddtrungit.github.io/authors/dtrungit/index.html" class="invert" rel="author" title="Duong Dinh Trung">Duong Dinh Trung</a></div></div></header><figure class="post__featured-image"><img src="https://ddtrungit.github.io/media/posts/91/4muhqs3mho_vimbg.jpeg" srcset="https://ddtrungit.github.io/media/posts/91/responsive/4muhqs3mho_vimbg-xs.jpeg 300w, https://ddtrungit.github.io/media/posts/91/responsive/4muhqs3mho_vimbg-sm.jpeg 480w, https://ddtrungit.github.io/media/posts/91/responsive/4muhqs3mho_vimbg-md.jpeg 768w, https://ddtrungit.github.io/media/posts/91/responsive/4muhqs3mho_vimbg-lg.jpeg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="eager" height="600" width="1500" alt=""></figure><div class="post__inner"><div class="post__entry"><p></p><p>Trước khi bắt tay vào dựng website, chúng ta cần học cách sửa nội dung một file trên server bằng command line. Công việc chính của một Sysadmin Linux là điều chỉnh các file cấu hình, do đó đây là kỹ năng bắt buộc phải thành thạo. Trong phạm vi mới tìm hiểu, mình sẽ hướng dẫn các bạn những thao tác đơn giản và cần thiết nhất.</p><p></p><p></p><p><strong>1. Chuẩn bị</strong></p><p></p><p></p><p>– Cài đặt vim</p><p></p><p></p><pre class="wp-block-code"><code>$ yum install vim</code></pre><p></p><p></p><p>– Download file dùng để test</p><p></p><p></p><pre class="wp-block-code"><code>$ curl https://blog.vietnix.vn/zero2hero/test_vim.txt &gt; test_vim.txt</code></pre><p></p><p></p><p>– Lệnh trên sẽ tải và ghi nội dung vào file test_vim.txt. Kiểm tra lại và đảm bảo file có đúng nội dung:</p><p></p><p></p><pre class="wp-block-code"><code>$ cat test_vim.txt</code></pre><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-347"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/91/zero2hero_3_cat_test_vim-1024x445.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_cat_test_vim-1024x445-xs.png 300w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_cat_test_vim-1024x445-sm.png 480w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_cat_test_vim-1024x445-md.png 768w" alt=""></figure></figure><p></p><p></p><p><strong>2. Các mode làm việc của vim</strong></p><p></p><p></p><p>Vim có 4 mode chính, nhưng để đơn giản mình sẽ giới thiệu với các bạn 3 mode:</p><p></p><p></p><p><strong><em>a, Normal Mode: </em></strong></p><p></p><p></p><ul><li>Đây là mode mặc định khi ta mở file. </li><li>Ở mode này ta không thể nhập dữ liệu, các phím khi ta bấm ở mode này sẽ có tác dụng như phím tắt để thực thi một thao tác nào đó.</li><li>Khi ở các mode khác, nếu muốn trở về Normal Mode thì bấm nút “<strong><em>ESC</em></strong>“. </li><li>Dấu hiệu nhận biết đang ở <em>Normal Mode</em> là phía dưới góc bên trái của terminal sẽ không hiện gì hoặc hiện ta tên file ta vừa mở. </li></ul><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-348"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/91/zero2hero_3_normal_mode.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_normal_mode-xs.png 300w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_normal_mode-sm.png 480w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_normal_mode-md.png 768w" alt=""></figure></figure><p></p><p></p><p><strong><em>b</em></strong><em>,</em><em> Insert mode: </em></p><p></p><p></p><ul><li>Khi đang ở <em>Normal Mode</em>, bấm phím “<strong><em>i</em></strong>” sẽ chuyển sang Insert Mode. </li><li>Đây là mode dùng để soạn thảo dữ liệu. </li><li>Các phím khi bấm trong mode này sẽ hoạt động như nhập dữ liệu bình thường.</li><li>Dấu hiệu nhận biết: sẽ có chữ INSERT ở góc trái bên dưới màn hình.</li><li>Bấm “<strong><em>ESC</em></strong>” sẽ trở về <em>Normal Mode</em> và mất chữ INSERT.</li></ul><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-349"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/91/zero2hero_3_insert_mode.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_insert_mode-xs.png 300w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_insert_mode-sm.png 480w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_insert_mode-md.png 768w" alt=""></figure></figure><p></p><p></p><p><strong><em>c, Command mode:</em></strong></p><p></p><p></p><ul><li>Khi đang ở <em>Normal Mode</em>, bấm <strong><em>:</em></strong> sẽ chuyển sang <em>Command Mode</em>.</li><li>Ở mode này cho phép ta thực hiện nhiều lệnh đặc biệt của vim.</li><li>Dấu hiệu nhận biết: góc dưới bên trái sẽ xuất hiện dấu “<strong><em>:</em></strong>” ở đầu.</li><li>Bấm “<strong><em>ESC</em></strong>” sẽ trở về Normal Mode.</li></ul><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-350"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/91/zero2hero_3_command_mode.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_command_mode-xs.png 300w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_command_mode-sm.png 480w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_command_mode-md.png 768w" alt=""></figure></figure><p></p><p></p><p><strong>3. Các thao tác cơ bản</strong></p><p></p><p></p><p><strong>3.1. Di chuyển con trỏ</strong></p><p></p><p></p><p>– Sử dụng các phím mũi tên như bình thường.</p><p></p><p></p><p>– Sử dụng nút “<strong><em>Page Up</em></strong>” và “<strong><em>Page Down</em></strong>” để di chuyển lên/xuống từng trang.<br><strong>3.2. Chỉnh nội dung file</strong></p><p></p><p></p><p>– Sau khi mở file bấm <strong><em>i</em></strong> để vào <em>Insert Mode</em>.</p><p></p><p></p><p>– Sử dụng các phím mũi tên để di chuyển, các phím khác thao tác như chỉnh sửa văn bản bình thường.</p><p></p><p></p><p>– Sau khi chỉnh sửa xong bấm “<strong><em>ESC</em></strong>” để trở về <em>Normal Mode</em>.</p><p></p><p></p><p>– Thực hành: </p><p></p><p></p><ul><li>Mở file test_vim.txt và xóa dòng “Chúng tôi là ai?”</li><li>Thêm vào dòng “zero2hero”</li><li>Trở về <em>Normal Mode</em></li></ul><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-351"><img loading="lazy" src="https://ddtrungit.github.io/media/posts/91/zero2hero_3_edit_file.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_edit_file-xs.png 300w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_edit_file-sm.png 480w, https://ddtrungit.github.io/media/posts/91/responsive/zero2hero_3_edit_file-md.png 768w" alt=""></figure></figure><p></p><p></p><p><strong>3.3. Thoát khỏi vim</strong></p><p></p><p></p><p>– Thoát và lưu các chỉnh sửa đã thực hiện (save lại):</p><p></p><p></p><ul><li>Chuyển về <em>Normal Mode</em></li><li>Gõ “<strong><em>:x”</em></strong> sau đó <strong><em>Enter</em></strong></li></ul><p></p><p></p><p>– Thóat và KHÔNG lưu các chỉnh sửa đã thực hiện:</p><p></p><p></p><ul><li>Chuyển về <em>Normal Mode</em></li><li>Gõ “<strong><em>:q!</em></strong>“sau đó <strong><em>Enter</em></strong></li></ul><p></p><p></p><p><strong>3.4. Các thao tác thường dùng khác:</strong> được thực hiện ở <em>Normal Mode</em></p><p></p><p></p><p>– <strong><em>/string</em></strong> : tìm kiếm chuỗi “string” trong file. Bấm <strong><em>n</em></strong> để nhảy đến kết quả tìm kiếm tiếp theo, “<strong><em>Shift + n</em></strong>” để lùi lại kết quả trước đó.</p><p></p><p></p><p>– <strong><em>:19</em></strong> : Nhảy đến dòng số 19</p><p></p><p></p><p>– <strong><em>dd</em></strong> : xóa 1 dòng tại vị trí con trỏ hiện tại</p><p></p><p></p><p>– <strong><em>u</em></strong> : Undo – lùi lại thao tác chỉnh sửa trước đó</p><p></p><p></p><p>– <strong><em>gg</em></strong> : Đưa con trỏ về đầu file</p><p></p><p></p><p>– <strong><em>Shift + G</em></strong> : đưa con trỏ về cuối file</p><p></p><p></p><p><strong>3.5. Thực hành:</strong></p><p></p><p></p><ul><li>Mở file test_vim.txt</li><li>Tìm tất cả chuỗi “admin” trong file</li><li>Nhảy đến dòng số 19</li><li>Xóa dòng số 19</li><li>Phục hồi lại dòng đã xóa</li><li>Đưa con trỏ về đầu file</li><li>Đưa con trỏ về cuối file</li><li>Thoát ra và lưu lại chỉnh sửa</li></ul><p></p><p></p><p>Đừng chỉ đọc, hãy thực hành ngay. Nhiêu đây là đủ để xài cho các bài tiếp theo, chưa cần học thêm vội, thuần thục mớ này rồi học tiếp cũng không muộn!</p><p></p></div><footer><div class="post__tags-share"><aside class="post__share"></aside></div></footer></div></article></div><div class="post__related"><div class="wrapper"><h2 class="h5">Related posts</h2><div class="l-grid l-grid--4"><article class="c-card"><a href="https://ddtrungit.github.io/centos-6-how-to-fix-centos-6-end-of-line-error-yumrepo-error-all-mirror-urls-are-not-using-ftp-https-or-file/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/98/centos-la-gi.jpg" srcset="https://ddtrungit.github.io/media/posts/98/responsive/centos-la-gi-xs.jpg 300w, https://ddtrungit.github.io/media/posts/98/responsive/centos-la-gi-sm.jpg 480w, https://ddtrungit.github.io/media/posts/98/responsive/centos-la-gi-md.jpg 768w, https://ddtrungit.github.io/media/posts/98/responsive/centos-la-gi-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="276" width="540" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/linux/index.html">Linux</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/centos-6-how-to-fix-centos-6-end-of-line-error-yumrepo-error-all-mirror-urls-are-not-using-ftp-https-or-file/index.html" class="invert">Centos 6: HOW TO FIX CENTOS 6 End of Line ERROR: YUMREPO ERROR: ALL MIRROR URLS ARE NOT USING FTP, HTTP[S] OR FILE</a></h3></header><p class="c-card__text">Problem When trying update CentOS 6 with yum update command getting error: Loaded plugins: aliases, allowdowngrade, changelog, dellsysid, downloadonly, fastestmirror, filter-data, kernel-module, keys, kmod, list-data,&hellip;</p></div></article><article class="c-card"><a href="https://ddtrungit.github.io/xac-dinh-ip-va-ung-dung-ngon-nhieu-bang-thong-nhat/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/96/676029069_1280x720.jpg" srcset="https://ddtrungit.github.io/media/posts/96/responsive/676029069_1280x720-xs.jpg 300w, https://ddtrungit.github.io/media/posts/96/responsive/676029069_1280x720-sm.jpg 480w, https://ddtrungit.github.io/media/posts/96/responsive/676029069_1280x720-md.jpg 768w, https://ddtrungit.github.io/media/posts/96/responsive/676029069_1280x720-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="720" width="1280" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/tip/index.html">Tip</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/xac-dinh-ip-va-ung-dung-ngon-nhieu-bang-thong-nhat/index.html" class="invert">Xác định IP và ứng dụng ngốn nhiều băng thông nhất</a></h3></header><p class="c-card__text">Muốn xác định IP hoặc ứng dụng ngốn nhiều băng thông nhất, sử dụng lệnh $ nethogs Khi nethogs đang&hellip;</p></div></article><article class="c-card"><a href="https://ddtrungit.github.io/ap-dung-watch-de-theo-doi-mysql-query/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/94/676029069_1280x720.jpg" srcset="https://ddtrungit.github.io/media/posts/94/responsive/676029069_1280x720-xs.jpg 300w, https://ddtrungit.github.io/media/posts/94/responsive/676029069_1280x720-sm.jpg 480w, https://ddtrungit.github.io/media/posts/94/responsive/676029069_1280x720-md.jpg 768w, https://ddtrungit.github.io/media/posts/94/responsive/676029069_1280x720-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="720" width="1280" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/linux/index.html">Linux</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/ap-dung-watch-de-theo-doi-mysql-query/index.html" class="invert">Áp dụng watch để theo dõi MySQL Query</a></h3></header><p class="c-card__text">Hôm nay trong Room chat Telegram của nhóm có 1 bạn bị tình trạng process MySQL chiếm 100% nhưng chưa&hellip;</p></div></article><article class="c-card"><a href="https://ddtrungit.github.io/tar-ssh-backup-du-lieu-khi-khong-con-dung-luong-o-cung-trong/index.html" class="c-card__image"><img src="https://ddtrungit.github.io/media/posts/93/676029069_1280x720.jpg" srcset="https://ddtrungit.github.io/media/posts/93/responsive/676029069_1280x720-xs.jpg 300w, https://ddtrungit.github.io/media/posts/93/responsive/676029069_1280x720-sm.jpg 480w, https://ddtrungit.github.io/media/posts/93/responsive/676029069_1280x720-md.jpg 768w, https://ddtrungit.github.io/media/posts/93/responsive/676029069_1280x720-lg.jpg 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="720" width="1280" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://ddtrungit.github.io/tags/tip/index.html">Tip</a></div><h3 class="c-card__title"><a href="https://ddtrungit.github.io/tar-ssh-backup-du-lieu-khi-khong-con-dung-luong-o-cung-trong/index.html" class="invert">tar + ssh: Backup dữ liệu khi không còn dung lượng ổ cứng trống</a></h3></header><p class="c-card__text">Thông thường, quy trình backup sẽ tạo file nén chứa dữ liệu trên server cần backup (server-app), sau đó sẽ&hellip;</p></div></article></div></div></div></main><footer class="footer"><div class="footer__social"><a href="https://facebook.com/duongtrung2103" aria-label="Facebook" class="facebook"><svg><use xlink:href="https://ddtrungit.github.io/assets/svg/svg-map.svg#facebook"/></svg></a></div><div class="footer__copyright">"DO THE THINGS YOU LOVE!"</div></footer><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://ddtrungit.github.io/assets/js/scripts.min.js?v=d78591855e0ce96bf51239b499260e20"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>